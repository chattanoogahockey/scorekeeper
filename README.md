# Hockey Scorekeeper 2.0A modern, mobile-first hockey scorekeeper application built with React and Node.js, featuring real-time goal tracking, roster management, and Azure Cosmos DB integration. Designed by scorekeepers, for scorekeepers.This repository contains a full-stack web application for realâ€‘time hockey scorekeeping, specifically optimized for mobile and tablet use during live games. The project features a React frontend with TailwindCSS for responsive styling and an Express backend API that integrates with Azure Cosmos DB for real-time data persistence.## ğŸ’ Features### âœ… Currently Implemented- **League & Game Management**: Browse games by league (Gold, Silver, Bronze)- **Mobile-Optimized Interface**: Designed specifically for tablets and mobile devices used by scorekeepers- **Team Roster Management**: Complete player rosters with numbers and positions- **Attendance Tracking**: Record which players are present for each game, stored in Cosmos DB- **Advanced Goal Recording System**:   - **Calculator-Style Time Input**: Intuitive number pad for quick MM:SS time entry (validates 00:01 to 20:00)  - **Complete Goal Details**: Scorer, assist, shot type (wrist, slap, snap, backhand), goal type (regular, power play, short-handed, penalty shot, empty net)  - **Real-Time Database Integration**: Goals instantly saved to Cosmos DB with automatic score calculation  - **Smart Form Validation**: Record button only activates when all required fields are completed  - **Automatic Goal Descriptions**: System generates contextual descriptions ("First goal of the game", "Go-ahead goal", etc.)- **Responsive Mobile Design**: 20% smaller team selection buttons, touch-friendly controls throughout- **Real-Time Data Persistence**: All events stored in Azure Cosmos DB with immediate confirmation### ğŸš§ Planned Enhancements  - Penalty recording and tracking- Game clock and period management- Audio announcements and sound effects- Advanced statistics and reporting- Game summary and export functionality## ğŸ› ï¸ Technology Stack### Frontend- **React 18** with Vite for fast development and hot reload- **React Router** for seamless page navigation- **TailwindCSS** for mobile-first responsive design- **Context API** for state management across components- **Fetch API** for HTTP requests to backend### Backend- **Node.js** with Express.js framework- **Azure Cosmos DB** integration via `@azure/cosmos` SDK- **CORS** enabled for cross-origin requests- **RESTful API** design with JSON responses### Database- **Azure Cosmos DB** (SQL API) with optimized containers:  - `games` â€“ Game schedules and team matchups  - `teams` â€“ Team information and metadata  - `rosters` â€“ Player rosters with numbers and positions  - `gameEvents` â€“ Goals and other game events (unified container)  - `attendance` â€“ Player attendance records## ğŸš€ Getting Started### Prerequisites- [Node.js](https://nodejs.org/) 16+ - [npm](https://www.npmjs.com/)- Azure Cosmos DB account- Git### Installation1. **Clone the repository**   ```bash   git clone https://github.com/chattanoogahockey/scorekeeper2.git   cd scorekeeper2   ```2. **Install backend dependencies**   ```bash   cd backend   npm install   ```3. **Install frontend dependencies**   ```bash   cd ../frontend   npm install   ```4. **Configure environment variables**      Create a `.env` file in the `backend` directory:   ```env   COSMOS_DB_ENDPOINT=your_cosmos_db_endpoint   COSMOS_DB_KEY=your_cosmos_db_key   COSMOS_DB_DATABASE_NAME=scorekeeper   PORT=3001   ```5. **Start the development servers**      Backend (from `/backend` directory):   ```bash   npm start   ```      Frontend (from `/frontend` directory):   ```bash   npm run dev   ```6. **Access the application**   - Frontend: http://localhost:5173   - Backend API: http://localhost:3001## ğŸ“± Usage### Starting a Game1. Select a league (Gold, Silver, Bronze)2. Choose a game from the schedule3. Record attendance for both teams4. Navigate to the in-game menu### Recording Goals1. Click "Record Goal" from the in-game menu2. Select the scoring team (away team selected by default)3. Choose the goal scorer and optional assist4. Enter the time using the calculator-style number pad (MM:SS format)5. Select shot type, goal type, and breakaway status6. Submit to save to Cosmos DB with real-time confirmation### Mobile Interface Features- Touch-optimized button sizes (20% smaller team selection for space efficiency)- Calculator-style time input with proper digit accumulation- Form validation with visual feedback- Real-time score display after goal submission## ğŸ—ï¸ Project Structure```scorekeeper2/â”œâ”€â”€ frontend/                 # React frontend applicationâ”‚   â”œâ”€â”€ src/â”‚   â”‚   â”œâ”€â”€ components/      # Reusable UI componentsâ”‚   â”‚   â”œâ”€â”€ contexts/        # React Context providersâ”‚   â”‚   â”œâ”€â”€ pages/          # Main application pagesâ”‚   â”‚   â””â”€â”€ main.jsx        # Application entry pointâ”‚   â”œâ”€â”€ public/             # Static assets (sounds, etc.)â”‚   â””â”€â”€ package.jsonâ”œâ”€â”€ backend/                 # Node.js backend APIâ”‚   â”œâ”€â”€ app.js              # Express server and routesâ”‚   â”œâ”€â”€ cosmosClient.js     # Cosmos DB connectionâ”‚   â””â”€â”€ package.jsonâ””â”€â”€ README.md```## ğŸ”Œ API Endpoints### Games & Teams- `GET /api/leagues` - List available leagues- `GET /api/teams` - Get all teams- `GET /api/games?league={league}` - Get games for a league- `GET /api/rosters?gameId={gameId}` - Get team rosters for a game### Game Events- `POST /api/goals` - Record a goal event- `POST /api/attendance` - Record team attendance- `GET /api/events?gameId={gameId}` - Get all events for a game### Example Goal API Request```jsonPOST /api/goals{  "gameId": 12345,  "team": "Team Name",  "player": "Player Name",  "period": "1",  "time": "05:30",  "assist": "Assist Player",  "shotType": "Wrist Shot",  "goalType": "Regular",  "breakaway": false,  "goalDescription": "First goal of the game"}```## ğŸ—„ï¸ Database Schema### Games Collection```javascript{  gameId: number,  homeTeam: string,  awayTeam: string,  gameDate: string,  gameTime: string,  league: string,  rink: string}```### Goal Events Collection (gameEvents container)```javascript{  id: string,  eventType: "goal",  gameId: number,  period: number,  scoringTeamId: string,  scorerId: string,  assistId: string,  goalTime: string,  shotType: string,  goalType: string,  breakaway: boolean,  scoringTeamGoalsFor: number,  scoringTeamGoalsAgainst: number,  goalDescription: string,  scorerGoalsInGame: number,  timestampRecorded: string}```### Attendance Collection```javascript{  id: string,  gameId: number,  teamName: string,  presentPlayers: string[],  absentPlayers: string[],  timestampRecorded: string}```## ğŸ§ª Development### Key Components- **GoalRecord.jsx**: Mobile-optimized goal recording form with calculator-style time input- **GameContext.jsx**: React context providing game state and roster data- **cosmosClient.js**: Azure Cosmos DB connection and query logic- **app.js**: Express server with RESTful API endpoints### Development Features- Hot reload with Vite- Real-time database integration- Console logging for debugging- Error handling with user feedback- Mobile-first responsive design### Testing the Goal Recording1. Start both frontend and backend servers2. Navigate to a game and record attendance3. Go to goal recording form4. Test the calculator-style time input (enter digits like 2-6-8-5-5 to get 02:55)5. Complete all fields and submit6. Verify goal appears in Cosmos DB and score is calculated correctly## ğŸš€ Deployment### Environment Variables```env# Backend (.env in /backend directory)COSMOS_DB_ENDPOINT=https://your-account.documents.azure.com:443/COSMOS_DB_KEY=your_primary_keyCOSMOS_DB_DATABASE_NAME=scorekeeperPORT=3001# Frontend (optional .env in /frontend directory)VITE_API_BASE_URL=http://localhost:3001```### Production Build```bash# Build frontend for productioncd frontendnpm run build# Backend runs directly with Node.jscd backendnpm start```## ğŸ¤ Contributing1. Fork the repository2. Create a feature branch (`git checkout -b feature/amazing-feature`)3. Commit your changes (`git commit -m 'Add some amazing feature'`)4. Push to the branch (`git push origin feature/amazing-feature`)5. Open a Pull Request## ğŸ“ Recent Updates### v2.0.0 (January 2025)- âœ… Complete mobile-optimized goal recording system- âœ… Calculator-style time input with proper validation- âœ… Real-time Cosmos DB integration with automatic score calculation- âœ… Smart form validation and user feedback- âœ… Responsive design optimized for scorekeepers- âœ… Automatic goal descriptions and context## ğŸ“ Support

For questions or support, please open an issue in this repository.

## ğŸ’ About

Built for the Chattanooga Hockey community to modernize scorekeeper workflows with a fast, reliable, mobile-first application. 

**Current Version**: 2.0.0  
**Last Updated**: January 2025  
**Status**: âœ… Core goal recording functionality complete and tested

---

*Ready to push to production! The goal recording system is fully functional with real-time database integration.*\ n #   T r i g g e r   d e p l o y m e n t   -   0 8 / 0 3 / 2 0 2 5   0 7 : 4 2 : 2 1  
 